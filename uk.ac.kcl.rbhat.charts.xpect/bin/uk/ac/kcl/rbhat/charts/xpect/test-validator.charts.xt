/* XPECT_SETUP uk.ac.kcl.rbhat.charts.xpect.XPectTests END_SETUP */

/* XPECT warnings ---
"Data source "unused_ds" is defined but never used" at "unused_ds"
"Data file must be a .csv file" at ""data""
--- */
data_source unused_ds from "data" {
	col_1: ordinal
}

data_source duplicate_ds from "data.csv" {
	col_1: ordinal
	// XPECT errors --> "Duplicate column name: "col_1"" at "col_1"
	col_1: ordinal
	col_2: measurable
}
// XPECT errors --> "Duplicate data source name: "duplicate_ds"" at "duplicate_ds"
data_source duplicate_ds from "data.csv" {
	col_1: ordinal
}
line_chart {
	data: duplicate_ds
	title: "Title"
	x_axis: col_1
	y_axis: col_2	
}

data_source ds from "data.csv" {
	col_1: ordinal
	col_2: categorical
	col_3: measurable
	col_4: ordinal, categorical, measurable
}
line_chart {
	data: ds
	title: "Title"
	// XPECT warnings --> "x_axis must use an ordinal column" at "col_2"
	x_axis: col_2
	// XPECT warnings -->"y_axis must use a measurable column" at "col_1"
	y_axis: col_1
	// XPECT warnings -->"split_by must use a categorical column" at "col_3"
	split_by: col_3 
}
line_chart {
	data: ds
	title: "Title"
	x_axis: col_4
	// XPECT warnings --> "x_axis and y_axis cannot use the same column" at "col_4"
	y_axis: col_4
	/* XPECT warnings ---
		"x_axis and split_by cannot use the same column" at "col_4"
		"y_axis and split_by cannot use the same column" at "col_4"
	--- */
	split_by: col_4
}
bar_chart {
	data: ds
	title: "Title"
	// XPECT warnings --> "x_axis must use a categorical column" at "col_1"
	x_axis: col_1
	// XPECT warnings --> "y_axis must use a measurable column" at "col_2"
	y_axis: col_2
	// XPECT warnings -->"split_by must use a categorical column" at "col_3"
	split_by: col_3
}
bar_chart {
	data: ds
	title: "Title"
	x_axis: col_4
	// XPECT warnings --> "x_axis and y_axis cannot use the same column" at "col_4"
	y_axis: col_4
	/* XPECT warnings ---
		"x_axis and split_by cannot use the same column" at "col_4"
		"y_axis and split_by cannot use the same column" at "col_4"
	--- */
	split_by: col_4
}
pie_chart {
	data: ds
	title: "Title"
	// XPECT warnings --> "values must use a measurable column" at "col_1"
	values: col_1
	/* XPECT warnings ---
		"labels must use a categorical column" at "col_1"
		"values and labels cannot use the same column" at "col_1"
	--- */
	labels: col_1
	show_values: false
}

